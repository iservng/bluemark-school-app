
DELIMITER $$
CREATE PROCEDURE catalog_add_product_to_category(IN inCategoryId INT, IN inName VARCHAR(100), IN inDescription VARCHAR(1000), IN inPrice DECIMAL(10,2))
BEGIN

   DECLARE productLastInsertId INT;

   INSERT INTO product (name, description, price)
   VALUES (inName, inDescription, inPrice);

   SELECT LAST_INSERT_ID() INTO productLastInsertId;

   INSERT INTO product_category (product_id, category_id)
   VALUES (productLastInsertId, inCategoryId);

END $$
DELIMITER ;